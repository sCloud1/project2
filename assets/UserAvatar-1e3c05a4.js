import{_ as k}from"./PageItem-92dc55ee.js";import{A,q as p,o as c,a as i,w as e,v as s,L as w,e as n,x as d,bN as x,E,M as I,aP as f,bO as S,D as B,F as b,G as N}from"./index-d78cd1ea.js";import{_ as R,E as C}from"./plugin-vueexport-helper-f207eb5f.js";import{E as F}from"./el-progress-c31bcaa5.js";/* empty css                */import"./baseClone-10758ba4.js";import"./isEqual-a13b6a71.js";const P=a=>(B("data-v-4f17531f"),a=a(),b(),a),V=["src"],q=P(()=>N("div",{class:"btn"},null,-1)),D={__name:"UserAvatar",setup(a){const l=A(),t=p(l.userInfo.user_pic),m=_=>{const o=new FileReader;o.readAsDataURL(_.raw),o.onload=()=>{t.value=o.result}},r=p(null),v=()=>{r.value.$el.querySelector("input").click()},y=async()=>{await x(t.value),await l.getUserInfo(),E.success("上传成功")};return(_,o)=>{const g=I,h=F,u=C,U=k;return c(),i(U,{title:"用户资料"},{content:e(()=>[s(h,{class:"avatar-uploader","show-file-list":!1,"auto-upload":!1,"on-change":m,ref_key:"uploadRef",ref:r},{default:e(()=>[t.value?(c(),w("img",{key:0,src:t.value,class:"avatar"},null,8,V)):(c(),i(g,{key:1,class:"avatar-uploader-icon"},{default:e(()=>[s(n(f))]),_:1}))]),_:1},512),q,s(u,{onClick:v,type:"primary",icon:n(f)},{default:e(()=>[d(" 选择图片 ")]),_:1},8,["icon"]),s(u,{onClick:y,type:"success",icon:n(S)},{default:e(()=>[d(" 上传头像 ")]),_:1},8,["icon"])]),_:1})}}},z=R(D,[["__scopeId","data-v-4f17531f"]]);export{z as default};
